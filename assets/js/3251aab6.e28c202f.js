"use strict";(self.webpackChunkfluid_docs=self.webpackChunkfluid_docs||[]).push([[5536],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>k});var o=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=o.createContext({}),u=function(e){var t=o.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},p=function(e){var t=u(e.components);return o.createElement(s.Provider,{value:t},e.children)},c="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},h=o.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),c=u(n),h=r,k=c["".concat(s,".").concat(h)]||c[h]||d[h]||i;return n?o.createElement(k,a(a({ref:t},p),{},{components:n})):o.createElement(k,a({ref:t},p))}));function k(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,a=new Array(i);a[0]=h;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[c]="string"==typeof e?e:r,a[1]=l;for(var u=2;u<i;u++)a[u]=n[u];return o.createElement.apply(null,a)}return o.createElement.apply(null,n)}h.displayName="MDXCreateElement"},5082:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>u,contentTitle:()=>l,default:()=>h,frontMatter:()=>a,metadata:()=>s,toc:()=>p});var o=n(7462),r=(n(7294),n(3905)),i=n(6137);const a={sidebar_position:2},l="Token setup",s={unversionedId:"setup/docker/token_setup",id:"version-2.0.0-beta.3/setup/docker/token_setup",title:"Token setup",description:"Creating tokens.json",source:"@site/versioned_docs/version-2.0.0-beta.3/setup/docker/token_setup.mdx",sourceDirName:"setup/docker",slug:"/setup/docker/token_setup",permalink:"/docs/setup/docker/token_setup",draft:!1,editUrl:"https://github.com/fluid-queue/fluid-docs/tree/main/packages/create-docusaurus/templates/shared/versioned_docs/version-2.0.0-beta.3/setup/docker/token_setup.mdx",tags:[],version:"2.0.0-beta.3",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Configuring your environment",permalink:"/docs/setup/docker/setup"},next:{title:"Configuring the Bot",permalink:"/docs/setup/docker/configuring"}},u={},p=[{value:"Creating <code>tokens.json</code>",id:"creating-tokensjson",level:2}],c={toc:p},d="wrapper";function h(e){let{components:t,...n}=e;return(0,r.kt)(d,(0,o.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"token-setup"},"Token setup"),(0,r.kt)(i.ZP,{mdxType:"Tokens"}),(0,r.kt)("h2",{id:"creating-tokensjson"},"Creating ",(0,r.kt)("inlineCode",{parentName:"h2"},"tokens.json")),(0,r.kt)("p",null,"Download the ",(0,r.kt)("a",{parentName:"p",href:"https://raw.githubusercontent.com/fluid-queue/fluid-queue/main/settings/tokens.example.json"},"sample tokens.json")," file from our Git repository, and save it in your ",(0,r.kt)("inlineCode",{parentName:"p"},"settings")," folder as ",(0,r.kt)("inlineCode",{parentName:"p"},"tokens.json"),". Replace ",(0,r.kt)("inlineCode",{parentName:"p"},"{INITIAL_ACCESS_TOKEN}")," (including the braces) with the User Access Token, and ",(0,r.kt)("inlineCode",{parentName:"p"},"{INITIAL_REFRESH_TOKEN}")," with the Refresh Token."),(0,r.kt)("admonition",{type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"Do not include the braces; your tokens should be enclosed in quotation marks but not braces.")))}h.isMDXComponent=!0},6137:(e,t,n)=>{n.d(t,{ZP:()=>l});var o=n(7462),r=(n(7294),n(3905));const i={toc:[{value:"Registering an application",id:"registering-an-application",level:2},{value:"Generating an initial token",id:"generating-an-initial-token",level:2}]},a="wrapper";function l(e){let{components:t,...n}=e;return(0,r.kt)(a,(0,o.Z)({},i,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"The Twitch API is, unfortunately, designed in a way that makes using a bot like this a little more involved than it ought to be. This section will help you deal with the API requirements. It probably seems a little daunting if you're not familiar with what the \"Authorization Code Grant Flow\" is, but we've done most of the worrying about that for you\u2014there's only a little bit left that you need to do: register an application with Twitch and set up your initial tokens."),(0,r.kt)("h2",{id:"registering-an-application"},"Registering an application"),(0,r.kt)("p",null,"Per Twitch requirements, you'll need to have a verified email and 2FA enabled for this to work, so make sure you've done that first. Once you have, go to the ",(0,r.kt)("a",{parentName:"p",href:"https://dev.twitch.tv/console"},"Twitch developer console")," and log in with your Twitch account. From there:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},'Open the "Applications" tab and click "Register your Application"'),(0,r.kt)("li",{parentName:"ol"},"Pick a name for your bot's application. You'll be the only person to ever see this name, so don't think too hard about it!"),(0,r.kt)("li",{parentName:"ol"},"Set the OAuth Redirect URL to ",(0,r.kt)("inlineCode",{parentName:"li"},"http://localhost:3000")),(0,r.kt)("li",{parentName:"ol"},'Set the category to "chatbot"'),(0,r.kt)("li",{parentName:"ol"},"Prove ",(0,r.kt)("em",{parentName:"li"},"you")," aren't a bot (with the \"I'm not a robot\" checkbox)"),(0,r.kt)("li",{parentName:"ol"},'Click "Create".')),(0,r.kt)("p",null,'You should be redirected back to the Applications tab, where your application should be listed now. If you click "Manage" on the application, you\'ll be taken to a new page. Note down the ',(0,r.kt)("strong",{parentName:"p"},"Client ID"),' listed here, and click the "New Secret" button to generate and note down a ',(0,r.kt)("strong",{parentName:"p"},"Client Secret"),"."),(0,r.kt)("h2",{id:"generating-an-initial-token"},"Generating an initial token"),(0,r.kt)("p",null,"Now you need to use that Client ID and Client Secret to generate an access token and a refresh token. This will require installing the ",(0,r.kt)("a",{parentName:"p",href:"https://dev.twitch.tv/docs/cli/"},"Twitch CLI"),", so follow the instructions there; on Linux, the manual install option is probably easiest, and on Windows it's probably easiest just to install Scoop and use it (this will require using Powershell instead of Command Prompt)."),(0,r.kt)("p",null,"Once you have the Twitch CLI installed:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Make sure you're logged into Twitch with the account you want to use as your bot.",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"If you're using a dedicated bot account, make sure the bot is a moderator in your chat first! This is required to get the list of online users in your chat, which the bot needs in order to know who's online and who's offline."))),(0,r.kt)("li",{parentName:"ol"},"In your terminal (or Powershell) window, run the command ",(0,r.kt)("inlineCode",{parentName:"li"},'twitch token -u -s "chat:read chat:edit moderator:read:chatters"'),"."),(0,r.kt)("li",{parentName:"ol"},"When prompted, enter your Client ID and Client Secret from earlier. You'll need these again when you're configuring the bot, so don't get rid of them!",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Pasting into a terminal window usually requires right clicking instead of pressing Control+V; Control+V has a different meaning inside a terminal window."))),(0,r.kt)("li",{parentName:"ol"},"Authorize your application to access your account in your browser, when it opens an authorization page."),(0,r.kt)("li",{parentName:"ol"},"The Twitch CLI will output a ",(0,r.kt)("strong",{parentName:"li"},"User Access Token")," and a ",(0,r.kt)("strong",{parentName:"li"},"Refresh Token"),". Note these down too!")))}l.isMDXComponent=!0}}]);